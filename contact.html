<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mind ease - Contact Page</title>

    <link rel="icon" type="image/x-icon" href="./assets/img/logo-2.png" />

    <link
      rel="icon"
      type="image/png"
      href="./assets/img/logo-2.png"
      sizes="32x32"
    />

    <link rel="icon" type="image/svg+xml" href="./assets/img/logo-2.png" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Heebo:wght@400;500;600&family=Inter:wght@600&family=Lobster+Two:wght@700&display=swap"
      rel="stylesheet"
    />

    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css"
    />

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css"
    />

    <link rel="stylesheet" href="./assets/css/contact.css" />
    
    <style>
      /* Toast Notification Styles */
      .toast-container {
        position: fixed;
        top: 20px;
        right: 20px;
        background-color: #333;
        color: white;
        padding: 15px 20px;
        border-radius: 8px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        z-index: 9999;
        opacity: 0;
        transform: translateX(100%);
        transition: opacity 0.3s ease-out, transform 0.3s ease-out;
        display: flex;
        flex-direction: column;
        align-items: flex-start;
        min-width: 300px;
        max-width: 400px;
        pointer-events: none;
      }

      .toast-container.show {
        opacity: 1;
        transform: translateX(0);
        pointer-events: auto;
      }

      .toast-message {
        flex-grow: 1;
        margin-bottom: 10px;
        font-weight: 500;
        line-height: 1.4;
      }

      .progress-bar-container {
        width: 100%;
        height: 4px;
        background-color: rgba(255, 255, 255, 0.3);
        border-radius: 2px;
        overflow: hidden;
      }

      .progress-bar {
        height: 100%;
        width: 0%;
        border-radius: 2px;
        transition: width linear;
      }

      /* Toast type styles */
      .toast-container.success {
        background: linear-gradient(135deg, #10b981, #059669);
        border-left: 4px solid #d1fae5;
      }
      .toast-container.success .progress-bar {
        background-color: #d1fae5;
      }

      .toast-container.error {
        background: linear-gradient(135deg, #ef4444, #dc2626);
        border-left: 4px solid #fecaca;
      }
      .toast-container.error .progress-bar {
        background-color: #fecaca;
      }

      .toast-container.warning {
        background: linear-gradient(135deg, #f59e0b, #d97706);
        border-left: 4px solid #fed7aa;
      }
      .toast-container.warning .progress-bar {
        background-color: #fed7aa;
      }

      .toast-container.info {
        background: linear-gradient(135deg, #3b82f6, #2563eb);
        border-left: 4px solid #dbeafe;
      }
      .toast-container.info .progress-bar {
        background-color: #dbeafe;
      }

      /* Loading state for submit button */
      .submit-btn:disabled {
        opacity: 0.6;
        cursor: not-allowed;
      }

      .submit-btn.loading {
        position: relative;
      }

      .submit-btn.loading::after {
        content: "";
        position: absolute;
        width: 16px;
        height: 16px;
        margin: auto;
        border: 2px solid transparent;
        border-top-color: #ffffff;
        border-radius: 50%;
        animation: spin 1s linear infinite;
      }

      @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }
    </style>
  </head>
  <body>
    <nav class="navbar">
      <a href="home.html" class="navbar-brand">
        <img src="./assets/img/logo-2.png" alt="Logo" />
      </a>

      <div class="hamburger" onclick="toggleMenu()">
        <div></div>
        <div></div>
        <div></div>
      </div>

      <ul class="navbar-nav">
        <li><a href="./index.html" class="nav-link">Home</a></li>
        <li><a href="./blog.html" class="nav-link">Blog</a></li>
        <li><a href="./about.html" class="nav-link">About Us</a></li>
        <li><a href="./contact.html" class="nav-link active">Contact Us</a></li>
        <div class="register-container-1">
          <a href="./register.html" class="nav-link btn">Register</a>
        </div>
      </ul>

      <div class="register-container">
        <a href="./login.html" class="nav-link btn">Login</a>
      </div>
    </nav>
    
    <div class="contact-container contact-section">
      <div class="contact-grid">
        <div class="contact-box">
          <h4>Contact Us</h4>
          <h1>Get In Touch With Us</h1>

          <div class="flex-display">
            <div class="icon-circle">
              <i class="fa fa-home" style="color: white"></i>
            </div>
            <div style="margin-left: 15px">
              <h4>Addresses</h4>
              <p style="padding-top: 15px">Arappalayam Madurai</p>
            </div>
          </div>

          <div class="flex-display">
            <div class="icon-circle">
              <i class="fa fa-phone-alt" style="color: white"></i>
            </div>
            <div style="margin-left: 15px">
              <h4>Mobile</h4>
              <p style="padding-top: 15px">+012 345 67890</p>
            </div>
          </div>

          <div class="flex-display">
            <div class="icon-circle">
              <i class="fa fa-envelope-open" style="color: white"></i>
            </div>
            <div style="margin-left: 15px">
              <h4>Email</h4>
              <p style="padding-top: 15px">mindease@gmail.com</p>
            </div>
          </div>
        </div>

        <div class="contact-box">
          <form id="contact-form" method="POST">
            <div class="floating-form">
              <input
                type="text"
                class="form-input"
                id="name"
                name="name"
                placeholder="Your Name"
                required
              />
            </div>

            <div class="floating-form">
              <input
                type="email"
                class="form-input"
                id="email"
                name="email"
                placeholder="Your Email"
                required
              />
            </div>

            <div class="floating-form">
              <input
                type="tel"
                class="form-input"
                id="phone"
                name="phone"
                placeholder="Phone"
                required
              />
            </div>

            <div class="floating-form">
              <input
                type="text"
                class="form-input"
                id="project"
                name="project"
                placeholder="Project"
                required
              />
            </div>

            <div class="floating-form">
              <input
                type="text"
                class="form-input"
                id="subject"
                name="subject"
                placeholder="Subject"
                required
              />
            </div>

            <div class="floating-form">
              <textarea
                class="form-input"
                placeholder="Leave a message here"
                id="message"
                name="message"
                style="height: 160px"
                required
              ></textarea>
            </div>

            <button type="submit" class="submit-btn" id="submit-button">
              Send Message
            </button>
            <div id="result" class="mt-3"></div>
          </form>
        </div>

        <div class="map-container">
          <iframe
            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d7860.002836868993!2d78.10062869054408!3d9.933839028695111!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3b00cf60c961698f%3A0xbd9a2f7c39461612!2sArappalayam%2C%20Madurai%2C%20Tamil%20Nadu!5e0!3m2!1sen!2sin!4v1742544409414!5m2!1sen!2sin"
            loading="lazy"
          ></iframe>
          <div class="social-links">
            <a href="https://www.facebook.com/" target="blank"
              ><i class="fab fa-facebook-f"></i
            ></a>
            <a href="https://x.com/" target="blank"
              ><i class="bi bi-twitter-x"></i
            ></a>
            <a href="https://www.instagram.com/" target="blank"
              ><i class="fab fa-instagram"></i
            ></a>
          </div>
        </div>
      </div>
    </div>
    
    <div class="footer">
      <div class="Footer-inner">
        <div class="footer-section">
          <h5>About Us</h5>
          <p><a href="#">Terms of Service</a></p>
          <p><a href="#">Privacy Policy</a></p>
          <p><a href="./contact.html">Contact Us</a></p>
          <p><a href="#">Partners</a></p>
        </div>

        <div class="footer-section">
          <h5>Company</h5>
          <p><a href="./index.html">Home</a></p>
          <p><a href="./about.html">About us</a></p>
          <p><a href="#">Our Team</a></p>
        </div>

        <div class="footer-section">
          <h5>Services</h5>
          <p><a href="#">Career guide</a></p>
          <p><a href="#">Psychometric test</a></p>
          <p><a href="#">Skill based test</a></p>
          <p><a href="#">Course Details</a></p>
        </div>

        <div class="footer-section">
          <h5>Social Media</h5>
          <div class="social-icons">
            <a href="https://www.instagram.com/" target="blank"
              ><i class="fab fa-instagram"></i
            ></a>
            <a href="https://www.facebook.com/" target="blank"
              ><i class="fab fa-facebook-f"></i
            ></a>
            <a href="https://x.com/" target="blank"
              ><i class="bi bi-twitter-x"></i
            ></a>
          </div>
        </div>

        <div class="footer-section">
          <h5>Stay up to date</h5>
          <p>Be the first to know about our newest apartments</p>
          <form class="subscribe">
            <input
              type="email"
              placeholder="Your email"
              name="email"
              required
            />
            <button type="submit">Subscribe</button>
          </form>
        </div>
      </div>

      <div class="copyright">
        <p>© 2025 Mind Ease. All Rights Reserved.</p>
      </div>
    </div>

    <!-- Toast Notification -->
    <div id="toastNotification" class="toast-container">
      <span id="toastMessage" class="toast-message"></span>
      <div class="progress-bar-container">
        <div id="toastProgressBar" class="progress-bar"></div>
      </div>
    </div>
  </body>

  <script src="./assets/js/script.js"></script>

  <script>
    const Base_Url = "localhost";
    
    // Toast notification functionality
    const toastNotification = document.getElementById("toastNotification");
    const toastMessage = document.getElementById("toastMessage");
    const toastProgressBar = document.getElementById("toastProgressBar");
    let toastTimeout;

    /**
     * Shows an animated toast notification
     * @param {string} message The message to display
     * @param {string} type The type of toast: 'success', 'error', 'warning', 'info'
     * @param {number} duration How long the toast should stay visible in milliseconds
     */
    function showToast(message, type = "success", duration = 4000) {
      console.log("showToast called:", message, type, duration);
      
      // Clear any existing timeout
      if (toastTimeout) {
        clearTimeout(toastTimeout);
      }
      
      // Reset all classes and styles
      toastNotification.className = "toast-container";
      toastProgressBar.style.transition = "none";
      toastProgressBar.style.width = "0%";
      
      // Set message
      toastMessage.textContent = message;
      
      // Force reflow
      toastNotification.offsetHeight;
      
      // Add type and show classes
      toastNotification.classList.add("show", type);
      
      // Start progress bar animation after a small delay
      setTimeout(() => {
        toastProgressBar.style.transition = `width ${duration / 1000}s linear`;
        toastProgressBar.style.width = "100%";
      }, 50);

      // Set timeout to hide toast
      toastTimeout = setTimeout(() => {
        hideToast();
      }, duration);
    }

    /**
     * Hides the toast notification
     */
    function hideToast() {
      toastNotification.classList.remove("show");
      
      // Reset progress bar after animation completes
      setTimeout(() => {
        toastProgressBar.style.transition = "none";
        toastProgressBar.style.width = "0%";
        toastNotification.className = "toast-container";
      }, 300);
    }

    // JavaScript for handling the contact form submission
    document.addEventListener("DOMContentLoaded", function () {
      const contactForm = document.getElementById("contact-form");
      const submitButton = document.getElementById("submit-button");
      const resultDiv = document.getElementById("result");

      if (contactForm) {
        contactForm.addEventListener("submit", async function (event) {
          event.preventDefault(); // Prevent the default form submission

          // Disable submit button and show loading state
          submitButton.disabled = true;
          submitButton.classList.add("loading");
          submitButton.textContent = "Sending...";

          const formData = {
            name: document.getElementById("name").value,
            email: document.getElementById("email").value,
            contact: document.getElementById("phone").value, // Changed from contact to phone to match HTML
            project: document.getElementById("project").value,
            subject: document.getElementById("subject").value,
            message: document.getElementById("message").value,
          };

          try {
            const response = await fetch(
              `http://${Base_Url}/Sample_php/api/contact.php`,
              {
                method: "POST",
                headers: {
                  "Content-Type": "application/json",
                },
                body: JSON.stringify(formData),
              }
            );

            const result = await response.json();
            
            if (response.ok) {
              // Show success toast
              showToast("Message sent successfully! We'll get back to you soon.", "success", 5000);
              
              // Reset the form
              contactForm.reset();
              
              // Clear any previous error messages
              resultDiv.innerHTML = "";
              
            } else {
              // Show error toast with server message
              showToast(
                "Failed to send message: " + (result.message || "Please try again later."),
                "error",
                5000
              );
            }
            
          } catch (error) {
            console.error("Error submitting contact form:", error);
            
            // Show error toast for network/connection issues
            showToast(
              "Network error: Unable to send message. Please check your connection and try again.",
              "error",
              5000
            );
          } finally {
            // Re-enable submit button and remove loading state
            submitButton.disabled = false;
            submitButton.classList.remove("loading");
            submitButton.textContent = "Send Message";
          }
        });
      }
    });

    // Toggle menu function for mobile navigation
    function toggleMenu() {
      const navbarNav = document.querySelector(".navbar-nav");
      navbarNav.classList.toggle("nav-active");
    }
  </script>
</html>